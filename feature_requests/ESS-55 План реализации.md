# ESS-55: План реализации двухколоночного диалога редактирования

## Текущее состояние
- Все поля в диалоге идут вертикально в одной колонке
- Кнопки действий (Archive, Delete, Export) и системные кнопки (Cancel, Save) расположены внизу в одной строке
- Диалог имеет фиксированную ширину `max-w-3xl`

## План реализации

### 1. Рефакторинг компонента EntityDialog
- Изменить структуру `EntityDialog` для поддержки двухколоночной компоновки
- Добавить пропсы для разделения контента на левую и правую части
- Использовать хук `useIsMobile` для адаптации под мобильные устройства

### 2. Структура диалога (десктоп)
- **Общая ширина**: увеличить с `max-w-3xl` до `max-w-5xl` или `max-w-6xl`
- **Левая колонка (70%)**:
  - Поля свободного ввода: `Input`, `Textarea`
  - Поля с автодополнением: `MetricTagInput`
- **Правая колонка (30%)**:
  - Выпадающие меню: `Select`, `Popover` (для выбора цели, инициативы, статуса, колонки, квартала)
  - Кнопки действий: Archive, Export (если есть)
  - Кнопка Delete
  - Внизу справа: Cancel, Save

### 3. Адаптация для мобильных устройств
- При `isMobile === true`:
  - Одноколоночная компоновка
  - Порядок: поля ввода → выпадающие меню → кнопки действий → Cancel/Save

### 4. Классификация полей по типам

#### Goals (RoadmapPage):
- **Левая колонка**: `goal` (Input), `expected_result` (Textarea), `achieved_result` (Textarea), `target_metrics` (MetricTagInput)
- **Правая колонка**: `quarter` (Select), `done` (Checkbox), кнопки Archive, Delete, Cancel, Save

#### Features (BoardPage):
- **Левая колонка**: `title` (Input), `description` (Textarea)
- **Правая колонка**: `goal_id` (Popover), `initiative_id` (Popover), `board_column` (Select), кнопки Export, Delete, Cancel, Save

#### Hypotheses (HypothesesPage):
- **Левая колонка**: `insight` (Textarea), `problem_hypothesis` (Textarea), `problem_validation` (Textarea), `solution_hypothesis` (Textarea), `solution_validation` (Textarea), `impact_metrics` (MetricTagInput)
- **Правая колонка**: `status` (Select), кнопка Delete, Cancel, Save

### 5. Технические детали
- Использовать CSS Grid или Flexbox для двухколоночной компоновки
- Соотношение 70/30 через `grid-template-columns: 1fr 0.43fr` (примерно 70/30)
- Сохранить текущую логику прокрутки для длинного контента
- Сохранить все существующие обработчики и валидацию

### 6. Обратная совместимость
- Убедиться, что все существующие диалоги (Goals, Features, Hypotheses) работают корректно
- Не ломать существующую функциональность
- Сохранить все пропсы и интерфейсы компонента

## Ожидаемый результат
- Диалоги стали шире и удобнее для работы
- Логическое разделение: ввод текста слева, выборы и действия справа
- Адаптивность для мобильных устройств
- Сохранение всей существующей функциональности

